{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Julius\\\\fullstack\\\\react-lesson\\\\testing\\\\recepts\\\\src\\\\context\\\\cart_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useContext, useReducer } from 'react';\nimport reducer from '../reducers/cart_reducer';\nimport { ADD_TO_CART, REMOVE_CART_ITEM, TOGGLE_CART_ITEM_AMOUNT, CLEAR_CART, COUNT_CART_TOTALS } from '../actions';\nconst initialState = {\n  cart: [],\n  total_items: 0,\n  total_amount: 0,\n  shipping_fee: 534\n};\nconst CartContext = /*#__PURE__*/React.createContext();\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState); //add to cart\n\n  const addToCart = (id, color, amount, product) => {\n    dispatch({\n      type: ADD_TO_CART,\n      payload: {\n        id,\n        color,\n        amount,\n        product\n      }\n    });\n  }; //remove item\n\n\n  const removeItem = id => {}; //toggle amount\n\n\n  const toggleAmount = (id, value) => {}; //clear cart\n\n\n  const clearCart = () => {};\n\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(state.cart));\n  }, [state.cart]);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: { ...state,\n      addToCart,\n      removeItem,\n      toggleAmount,\n      clearCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}; // make sure use\n\n_s(CartProvider, \"gZZ3TaNWFnk5pxLxmdKGLDXNo7Y=\");\n\n_c = CartProvider;\nexport const useCartContext = () => {\n  _s2();\n\n  return useContext(CartContext);\n};\n\n_s2(useCartContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["C:/Julius/fullstack/react-lesson/testing/recepts/src/context/cart_context.js"],"names":["React","useEffect","useContext","useReducer","reducer","ADD_TO_CART","REMOVE_CART_ITEM","TOGGLE_CART_ITEM_AMOUNT","CLEAR_CART","COUNT_CART_TOTALS","initialState","cart","total_items","total_amount","shipping_fee","CartContext","createContext","CartProvider","children","state","dispatch","addToCart","id","color","amount","product","type","payload","removeItem","toggleAmount","value","clearCart","localStorage","setItem","JSON","stringify","useCartContext"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,UAAvC,QAAyD,OAAzD;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SACEC,WADF,EAEEC,gBAFF,EAGEC,uBAHF,EAIEC,UAJF,EAKEC,iBALF,QAMO,YANP;AAQA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAC,EADc;AAEnBC,EAAAA,WAAW,EAAC,CAFO;AAGnBC,EAAAA,YAAY,EAAC,CAHM;AAInBC,EAAAA,YAAY,EAAC;AAJM,CAArB;AAOA,MAAMC,WAAW,gBAAGf,KAAK,CAACgB,aAAN,EAApB;AAEA,OAAO,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC5C,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBjB,UAAU,CAACC,OAAD,EAASM,YAAT,CAAnC,CAD4C,CAG5C;;AACA,QAAMW,SAAS,GAAG,CAACC,EAAD,EAAIC,KAAJ,EAAUC,MAAV,EAAiBC,OAAjB,KAA2B;AAC3CL,IAAAA,QAAQ,CAAC;AAACM,MAAAA,IAAI,EAACrB,WAAN;AAAkBsB,MAAAA,OAAO,EAAC;AAACL,QAAAA,EAAD;AAAIC,QAAAA,KAAJ;AACnCC,QAAAA,MADmC;AAC5BC,QAAAA;AAD4B;AAA1B,KAAD,CAAR;AAED,GAHD,CAJ4C,CAQ5C;;;AACA,QAAMG,UAAU,GAAIN,EAAD,IAAQ,CAAE,CAA7B,CAT4C,CAU5C;;;AACA,QAAMO,YAAY,GAAG,CAACP,EAAD,EAAIQ,KAAJ,KAAa,CAAE,CAApC,CAX4C,CAY5C;;;AACA,QAAMC,SAAS,GAAG,MAAK,CAAE,CAAzB;;AAEA9B,EAAAA,SAAS,CAAC,MAAI;AACZ+B,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAehB,KAAK,CAACR,IAArB,CAA5B;AACD,GAFQ,EAEP,CAACQ,KAAK,CAACR,IAAP,CAFO,CAAT;AAKA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE,EAAC,GAAGQ,KAAJ;AAAUE,MAAAA,SAAV;AAAoBO,MAAAA,UAApB;AAA+BC,MAAAA,YAA/B;AAC3BE,MAAAA;AAD2B,KAA7B;AAAA,cAGGb;AAHH;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CA3BM,C,CA4BP;;GA5BaD,Y;;KAAAA,Y;AA6Bb,OAAO,MAAMmB,cAAc,GAAG,MAAM;AAAA;;AAClC,SAAOlC,UAAU,CAACa,WAAD,CAAjB;AACD,CAFM;;IAAMqB,c","sourcesContent":["import React, { useEffect, useContext, useReducer } from 'react'\nimport reducer from '../reducers/cart_reducer'\nimport {\n  ADD_TO_CART,\n  REMOVE_CART_ITEM,\n  TOGGLE_CART_ITEM_AMOUNT,\n  CLEAR_CART,\n  COUNT_CART_TOTALS,\n} from '../actions'\n\nconst initialState = {\n  cart:[],\n  total_items:0,\n  total_amount:0,\n  shipping_fee:534,\n}\n\nconst CartContext = React.createContext()\n\nexport const CartProvider = ({ children }) => {\n  const [state,dispatch] = useReducer(reducer,initialState)\n\n  //add to cart\n  const addToCart = (id,color,amount,product)=>{\n    dispatch({type:ADD_TO_CART,payload:{id,color,\n    amount,product}})\n  }\n  //remove item\n  const removeItem = (id) => {}\n  //toggle amount\n  const toggleAmount = (id,value) =>{}\n  //clear cart\n  const clearCart = () =>{}\n\n  useEffect(()=>{\n    localStorage.setItem('cart',JSON.stringify(state.cart))\n  },[state.cart])\n\n\n  return (\n    <CartContext.Provider value={{...state,addToCart,removeItem,toggleAmount,\n      clearCart}}\n    >\n      {children}\n    </CartContext.Provider>\n  )\n}\n// make sure use\nexport const useCartContext = () => {\n  return useContext(CartContext)\n}\n"]},"metadata":{},"sourceType":"module"}